-language standard

-alias portA 0xFFF

#/
Fibonacci series generator

watch 0xFFF for the output
/#


start:
    load var.a
    store $portA$
    addm var.b
    store var.temp
    load var.a
    store var.b
    load var.temp
    store var.a

    # only 10 iterations
    load var.count
    sub RA 1
    store var.count
    jumpnz start
    jump word

.var:
    .data -a 1
    .data -b 1
    .data -temp 0
    .data -count 10
    .strn -word "Hello World!"


.word:
    move RB var.word
    loadr -loop RA RB
    jumpz exit
    add RB 1
    store $portA$
    jump word.loop

exit:
    move RA 0
    store $portA$
    jump -exit_loop exit.exit_loop
